/**
 * ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * ä½¿ã„æ–¹: npx tsx scripts/seed-article.ts
 */

import 'dotenv/config';
import { initializeApp, cert } from 'firebase-admin/app';
import { getFirestore, FieldValue } from 'firebase-admin/firestore';
import { config } from 'dotenv';
config({ path: '.env.local' });

const projectId = process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID;
if (!projectId) {
  console.error('NEXT_PUBLIC_FIREBASE_PROJECT_IDãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“');
  process.exit(1);
}

let app;
if (process.env.GOOGLE_APPLICATION_CREDENTIALS) {
  app = initializeApp({
    credential: cert(process.env.GOOGLE_APPLICATION_CREDENTIALS),
  });
} else {
  app = initializeApp({ projectId });
}

const db = getFirestore(app);

const ADMIN_EMAIL = process.env.ADMIN_EMAIL || '';

const article = {
  slug: 'darts-lab-future-features',
  title: 'Darts Lab ã‚’ã‚‚ã£ã¨ä¾¿åˆ©ã« â€” ä»Šå¾Œè¿½åŠ ã—ãŸã„æ©Ÿèƒ½ã¾ã¨ã‚',
  content: `Darts Lab ã‚’æ—¥é ƒä½¿ã£ã¦ãã ã•ã£ã¦ã„ã‚‹çš†ã•ã‚“ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã€**ä»Šå¾Œã‚µãƒ¼ãƒ“ã‚¹ã‚’æ‹¡å¼µã™ã‚‹ã†ãˆã§è¿½åŠ ã—ãŸã„æ©Ÿèƒ½**ã‚„ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çš†ã•ã‚“ã‹ã‚‰æ±‚ã‚ã‚‰ã‚Œã¦ã„ã‚‹æ©Ÿèƒ½ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã™ã€‚ã€Œã“ã‚“ãªæ©Ÿèƒ½ãŒã»ã—ã„ï¼ã€ã¨ã„ã†å£°ãŒã‚ã‚Œã°ãœã²ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ãŠå¯„ã›ãã ã•ã„ã€‚

---

## 1. ã‚¹ã‚¿ãƒƒãƒ„è¨˜éŒ²ãƒ»åˆ†æžæ©Ÿèƒ½

ãƒ€ãƒ¼ãƒ„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã¨ã£ã¦æœ€ã‚‚æ¬²ã—ã„æ©Ÿèƒ½ã®ä¸€ã¤ãŒ**ã‚¹ã‚¿ãƒƒãƒ„ã®è¨˜éŒ²ã¨å¯è¦–åŒ–**ã§ã™ã€‚

- ç·´ç¿’ã”ã¨ã® Rating / PPD / MPR ã‚’è¨˜éŒ²
- æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã§æˆé•·æ›²ç·šã‚’å¯è¦–åŒ–
- æœŸé–“åˆ¥ï¼ˆé€±ãƒ»æœˆãƒ»å¹´ï¼‰ã®ã‚µãƒžãƒªãƒ¼è¡¨ç¤º
- ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°å¤‰æ›´ã¨ã®ç›¸é–¢åˆ†æžï¼ˆã€Œã“ã®ãƒãƒ¬ãƒ«ã«å¤‰ãˆã¦ã‹ã‚‰ä¸ŠãŒã£ãŸã€ãªã©ï¼‰

ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã¯ã™ã§ã«è“„ç©ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€**ã‚¹ã‚¿ãƒƒãƒ„ã¨ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚’ç´ã¥ã‘ã‚‹ã“ã¨ã§ä»–ã®ã‚¢ãƒ—ãƒªã«ã¯ãªã„ç‹¬è‡ªã®åˆ†æž**ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

---

## 2. æŠ•ã’æ–¹ãƒ»ãƒ•ã‚©ãƒ¼ãƒ è¨ºæ–­

4ã‚¹ã‚¿ãƒ³ã‚¹ç†è«–ã®ã‚¿ã‚¤ãƒ—ï¼ˆA1 / A2 / B1 / B2ï¼‰ã¯ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«ç™»éŒ²ã§ãã¾ã™ãŒã€ã¾ã ååˆ†ã«æ´»ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

### è€ƒãˆã¦ã„ã‚‹æ©Ÿèƒ½

- ã‚¿ã‚¤ãƒ—åˆ¥ã®ãŠã™ã™ã‚ã‚°ãƒªãƒƒãƒ—ãƒ»ã‚¹ã‚¿ãƒ³ã‚¹è§£èª¬
- åŒã˜ã‚¿ã‚¤ãƒ—ã®ãƒ—ãƒ­ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ä¸€è¦§
- ãƒ•ã‚©ãƒ¼ãƒ å‹•ç”»ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼†ã‚¹ãƒ­ãƒ¼è§£æžï¼ˆå°†æ¥çš„ã« AI é€£æºã‚‚ï¼‰

ç‰¹ã«ãƒ•ã‚©ãƒ¼ãƒ è¨ºæ–­ã¯**åˆå¿ƒè€…ã€œä¸­ç´šè€…ãŒæœ€ã‚‚æ±‚ã‚ã¦ã„ã‚‹æ©Ÿèƒ½**ãªã®ã§ã€å„ªå…ˆåº¦é«˜ãæ¤œè¨Žã—ã¦ã„ã¾ã™ã€‚

---

## 3. ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ©Ÿèƒ½

ç¾åœ¨ã¯ã€Œã¿ã‚“ãªã®ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ã€ã§ä»–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ§‹æˆã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ã‚‚ã£ã¨äº¤æµã§ãã‚‹å ´ãŒæ¬²ã—ã„ã¨ã„ã†å£°ãŒã‚ã‚Šã¾ã™ã€‚

| æ©Ÿèƒ½ | æ¦‚è¦ | å„ªå…ˆåº¦ |
|------|------|--------|
| ã‚³ãƒ¡ãƒ³ãƒˆå¼·åŒ– | ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ã¸ã®è³ªå•ãƒ»ã‚¢ãƒ‰ãƒã‚¤ã‚¹ | â˜…â˜…â˜… |
| ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | ãƒ¦ãƒ¼ã‚¶ãƒ¼é–“ã® DM æ©Ÿèƒ½ | â˜…â˜…â˜† |
| Q&A æŽ²ç¤ºæ¿ | ãƒ€ãƒ¼ãƒ„ã«é–¢ã™ã‚‹è³ªå•ãƒ»å›žç­” | â˜…â˜…â˜† |
| ã‚¤ãƒ™ãƒ³ãƒˆæŽ²ç¤ºæ¿ | å¤§ä¼šãƒ»å¯¾æˆ¦ä¼šã®å‘ŠçŸ¥ | â˜…â˜†â˜† |

ã¾ãšã¯**ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã®å¼·åŒ–**ï¼ˆè¿”ä¿¡ãƒ»ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ï¼‰ã‹ã‚‰å§‹ã‚ã¦ã€æ®µéšŽçš„ã«æ‹¡å¼µã—ã¦ã„ãäºˆå®šã§ã™ã€‚

---

## 4. ãƒãƒ¬ãƒ«æ¯”è¼ƒæ©Ÿèƒ½ã®æ‹¡å……

ãƒãƒ¬ãƒ«æ¤œç´¢ã¯å¤šãã®æ–¹ã«ä½¿ã£ã¦ã„ãŸã ã„ã¦ã„ã¾ã™ãŒã€ã•ã‚‰ã«ä¾¿åˆ©ã«ã—ãŸã„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚

- **ã‚¹ãƒšãƒƒã‚¯æ¯”è¼ƒè¡¨**: 2ã€œ3æœ¬ã®ãƒãƒ¬ãƒ«ã‚’ä¸¦ã¹ã¦ã‚¹ãƒšãƒƒã‚¯ã‚’æ¯”è¼ƒ
- **ãƒãƒ¬ãƒ«ã‚·ãƒ«ã‚¨ãƒƒãƒˆ**: æœ€å¤§å¾„ãƒ»å…¨é•·ãƒ»ãƒ†ãƒ¼ãƒ‘ãƒ¼ä½ç½®ã‚’ç°¡æ˜“çš„ã«å¯è¦–åŒ–
- **ãƒ¬ãƒ“ãƒ¥ãƒ¼ / ä½¿ç”¨æ„Ÿ**: å®Ÿéš›ã«ä½¿ã£ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼æŠ•ç¨¿
- **ä¾¡æ ¼æ¯”è¼ƒ**: è¤‡æ•°ã‚·ãƒ§ãƒƒãƒ—ã®åœ¨åº«ãƒ»ä¾¡æ ¼ã‚’æ¨ªæ–­ãƒã‚§ãƒƒã‚¯

> ãƒãƒ¬ãƒ«é¸ã³ã¯ã€Œã‚¹ãƒšãƒƒã‚¯ Ã— ä½¿ç”¨æ„Ÿ Ã— äºˆç®—ã€ã®3è»¸ã§æ±ºã¾ã‚‹ã®ã§ã€ã™ã¹ã¦ã‚’ Darts Lab ä¸Šã§å®Œçµã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚

---

## 5. ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªåŒ– / PWA å¯¾å¿œ

ç·´ç¿’ä¸­ã«ã‚¹ãƒžãƒ›ã§ã‚µã‚¯ãƒƒã¨ã‚¹ã‚¿ãƒƒãƒ„è¨˜éŒ²ãƒ»ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ç¢ºèªã—ãŸã„ã¨ã„ã†ãƒ‹ãƒ¼ã‚ºã¯å¤§ãã„ã§ã™ã€‚

- **PWA å¯¾å¿œ**ï¼ˆãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ ã§ãƒã‚¤ãƒ†ã‚£ãƒ–é¢¨ã«ä½¿ãˆã‚‹ï¼‰
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼ˆç·´ç¿’ä¸­ã«é›»æ³¢ãŒãªãã¦ã‚‚è¨˜éŒ²å¯èƒ½ï¼‰
- ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã‚„ã„ã„ã­ã®é€šçŸ¥ï¼‰

ãƒ•ãƒ«ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã‚ˆã‚Šã‚‚ã€ã¾ãšã¯ **PWA ã§ãƒŸãƒ‹ãƒžãƒ ã«å¯¾å¿œ**ã™ã‚‹æ–¹é‡ã§è€ƒãˆã¦ã„ã¾ã™ã€‚

---

## 6. èª²é‡‘ãƒ»ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ©Ÿèƒ½ï¼ˆå°†æ¥æ§‹æƒ³ï¼‰

ã‚µãƒ¼ãƒ“ã‚¹ã‚’æŒç¶šçš„ã«é‹å–¶ã™ã‚‹ãŸã‚ã«ã€å°†æ¥çš„ã«ã¯ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ã®å°Žå…¥ã‚‚æ¤œè¨Žã—ã¦ã„ã¾ã™ã€‚

### ç„¡æ–™ã§ä½¿ãˆã‚‹æ©Ÿèƒ½ï¼ˆç¾çŠ¶é€šã‚Šï¼‰
- ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ç™»éŒ²ãƒ»é–²è¦§
- ãƒãƒ¬ãƒ«æ¤œç´¢
- è¨˜äº‹é–²è¦§

### ãƒ—ãƒ¬ãƒŸã‚¢ãƒ é™å®šï¼ˆæ¤œè¨Žä¸­ï¼‰
- ã‚¹ã‚¿ãƒƒãƒ„åˆ†æžã®é«˜åº¦ãªã‚°ãƒ©ãƒ•ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ
- ãƒ•ã‚©ãƒ¼ãƒ è¨ºæ–­ AI
- åºƒå‘Šéžè¡¨ç¤º
- é™å®šè¨˜äº‹ã®é–²è¦§

**åŸºæœ¬æ©Ÿèƒ½ã¯ç„¡æ–™ã®ã¾ã¾**ã€ä»˜åŠ ä¾¡å€¤ã®é«˜ã„åˆ†æžãƒ»è¨ºæ–­ç³»ã‚’æœ‰æ–™ã«ã™ã‚‹å½¢ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚

---

## 7. ãã®ä»–ã€åœ°å‘³ã«ä¾¿åˆ©ãªæ”¹å–„

- ðŸ” **ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°æ¤œç´¢ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¼·åŒ–**: ã‚«ãƒƒãƒˆç¨®é¡žãƒ»é‡é‡ãƒ¬ãƒ³ã‚¸ã§çµžã‚Šè¾¼ã¿
- ðŸ“Š **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º**: è¡¨ç¤ºé …ç›®ã‚’è‡ªåˆ†å¥½ã¿ã«ä¸¦ã³æ›¿ãˆ
- ðŸ·ï¸ **ã‚¿ã‚°æ©Ÿèƒ½ã®æ‹¡å……**: ã‚»ãƒƒãƒ†ã‚£ãƒ³ã‚°ã«ã‚‚ã‚¿ã‚°ã‚’ã¤ã‘ã¦åˆ†é¡ž
- ðŸ“¸ **ç”»åƒã®ã‚ºãƒ¼ãƒ ãƒ»ã‚¹ãƒ¯ã‚¤ãƒ—å¯¾å¿œ**: ã‚°ãƒªãƒƒãƒ—å†™çœŸã‚’æ‹¡å¤§ã—ã¦è¦‹ãŸã„
- ðŸŒ **å¤šè¨€èªžå¯¾å¿œ**: æµ·å¤–ãƒ€ãƒ¼ãƒ„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å‘ã‘ã®è‹±èªžç‰ˆ

---

## ã¾ã¨ã‚

Darts Lab ã¯ã¾ã ã¾ã ç™ºå±•é€”ä¸Šã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚**ãƒ€ãƒ¼ãƒ„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã¨ã£ã¦ã€Œã“ã‚Œã•ãˆã‚ã‚Œã°ã€ã¨ã„ã†ãƒ„ãƒ¼ãƒ«**ã‚’ç›®æŒ‡ã—ã¦ã€ä¸€ã¤ãšã¤æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚

ã€Œã“ã®æ©Ÿèƒ½ãŒã»ã—ã„ã€ã€Œã“ã“ãŒä½¿ã„ã«ãã„ã€ãªã©ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯å¤§æ­“è¿Žã§ã™ã€‚ä¸€ç·’ã« Darts Lab ã‚’è‚²ã¦ã¦ã„ãã¾ã—ã‚‡ã†ï¼
`,
  coverImageUrl: null,
  tags: ['Darts Lab', 'ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ', 'æ©Ÿèƒ½è¿½åŠ '],
  isDraft: false,
};

async function seedArticle() {
  // ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å–å¾—
  const snapshot = await db.collection('users').where('email', '==', ADMIN_EMAIL).get();

  let userId = '';
  let userName = '';
  if (!snapshot.empty) {
    const userDoc = snapshot.docs[0];
    userId = userDoc.id;
    userName = userDoc.data().displayName || '';
    console.log(`ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶: ${userName} (${userId})`);
  } else {
    console.warn('ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚userIdç©ºã§ä½œæˆã—ã¾ã™');
  }

  const docRef = db.collection('articles').doc();
  await docRef.set({
    ...article,
    userId,
    userName,
    createdAt: FieldValue.serverTimestamp(),
    updatedAt: FieldValue.serverTimestamp(),
  });

  console.log(`è¨˜äº‹ã‚’ä½œæˆã—ã¾ã—ãŸ: ${docRef.id}`);
  console.log(`ã‚¹ãƒ©ãƒƒã‚°: ${article.slug}`);
  console.log(`URL: /articles/${article.slug}`);
}

seedArticle().catch((err) => {
  console.error('ã‚¨ãƒ©ãƒ¼:', err);
  process.exit(1);
});
